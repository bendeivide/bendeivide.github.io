---
title: "Ci√™ncia de dados usando a linguagem R"
title-slide-attributes:
    data-background-image: cap.png

author: "{{< fa user-tie >}} [Ben D√™ivide](http://bendeivide.github.io) | {{< fa school >}} [UFSJ](https://www.ufsj.edu.br/)"
bibliography: [biblio.bib]
link-citations: true
csl: associacao-brasileira-de-normas-tecnicas-ipea.csl
lang: "pt-br"
format: 
  revealjs:
    auto-stretch: false
    navigation-mode: vertical # Slides horizontais e verticais
    theme: [dark, ben-slide.scss]
    transition: slide
    background-transition: fade
#    transition-speed: fade
    footer: "[CDEC](https://bendeivide.github.io/cdec/) | <https://bendeivide.github.io/>" # Rodap√©
    incremental: true # Transi√ß√£o de itens gradativos
    controls: true # Inserindo as flechas de transicao
    # Quadro negro
    chalkboard: 
      theme: whiteboard
      #chalk-width: 5 # largura da caneta do quadro negro
      boardmarker-width: 3 # largura da caneta do quadro branco
    #multiplex: true # Efeito para quando eu mudar o slide, todos observarao mudando em seus browsers tbm
    logo: ben.png
#   slide-tone: true # som na transicao dos slides
    slide-number: true # Inserindo numero nos slides
#    show-slide-number: print
    menu:
      side: left # lado do menu
      width: wide
#     numbers: true # inserir numero nos itens do menu
    pointer: # Plugin para o ponteiro
      - key: q
      - color: red
      - pointerSize: 16
      - alwaysVisible: false
revealjs-plugins:
  - pointer
editor: source
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(leem)
```

# Filosofia de publica√ß√£o (Selo DC) {background-image="cap02.png"}

<a href="https://bendeivide.github.io/dc/" target="_blank" style="text-align: center;">

<img src="SeloDC-branco.png" width = "400">

</a>

# Livro de Apoio {background-image="cap02.png"}

Usaremos @batista2023:

<a href="https://bendeivide.github.io/books/epaec/" target="_blank" style="text-align: center;">

<img src="hardcover.png" width = "300">

</a>

# Introdu√ß√£o {background-image="cap02.png"}

-   A linguagem **R** √© uma das ferramentas mais poderosas para an√°lise de dados.
-   Desenvolvida originalmente para estat√≠stica, hoje √© amplamente usada em:
    -   Ci√™ncia de dados
    -   *Machine learning*
    -   Visualiza√ß√£o interativa
    -   Automa√ß√£o de relat√≥rios

# Por que usar R? {background-image="cap02.png"}

-   Gratuito e de c√≥digo aberto
-   Ampla comunidade e milhares de pacotes
-   Suporte nativo para estat√≠stica e gr√°ficos
-   Integra√ß√£o com outras linguagens (`C`, `Python`, `SQL`)
-   Ferramentas modernas: RStudio, Quarto, Shiny

# Importa√ß√£o e manipula√ß√£o de dados {background-image="cap02.png"}

-   A manipula√ß√£o de dados √© essencial para an√°lises estat√≠sticas e ci√™ncia de dados.
-   O R oferece ferramentas poderosas e intuitivas, especialmente com o **tidyverse**.
-   Nesta apresenta√ß√£o, veremos:
    -   Pacotes principais
    -   Fun√ß√µes essenciais
    -   Exemplos pr√°ticos

## Importa√ß√£o e manipula√ß√£o de dados {background-image="cap02.png"}

-   **Base R**: flex√≠vel, mas menos leg√≠vel

-   **tidyverse**: gram√°tica clara e moderna

-   Pacotes principais:

. . .

::: columns 
::: column

-   `dplyr` (manipula√ß√£o)
-   `tidyr` (transforma√ß√£o)
-   `readr` (importa√ß√£o) 
:::

::: column

-   `lubridate` (datas)
-   `stringr` (textos)
-   `forcats` (fatores) 

::: 
:::

## Verbos principais do `dplyr` {background-image="cap02.png"}

| Verbo         | Fun√ß√£o                    |
|---------------|---------------------------|
| `filter()`    | Filtrar linhas            |
| `select()`    | Selecionar colunas        |
| `mutate()`    | Criar/modificar vari√°veis |
| `arrange()`   | Ordenar linhas            |
| `summarise()` | Resumir estat√≠sticas      |
| `group_by()`  | Agrupar para opera√ß√µes    |

## Exemplo {background-image="cap02.png"}

::: columns 
::: column

```{r}
#| eval: false
#| include: true
#| code-line-numbers: "1-14|11|12|13|14"
library(dplyr)

dados <- tibble(
  nome = c("Ana", "Bruno", "Carlos", "Diana", "Edu"),
  idade = c(23, 19, 21, 25, 31),
  nota = c(5.5, 7.2, 6.1, 5.8, 7.5),
  curso = c("Estat√≠stica", "Engenharia", "Estat√≠stica", "Matem√°tica", "Engenharia")
)

dados |> 
  filter(nota >= 6) |>
  mutate(aprovado = nota >= 6) |>
  group_by(curso) |>
  summarise(media_nota = mean(nota), n = length(nota) , .groups = "drop")
```

:::

::: column

```{r}
#| echo: false
library(dplyr)

dados <- tibble(
  nome = c("Ana", "Bruno", "Carlos", "Diana", "Edu"),
  idade = c(23, 19, 21, 25, 31),
  nota = c(5.5, 7.2, 6.1, 5.8, 7.5),
  curso = c("Estat√≠stica", "Engenharia", "Estat√≠stica", "Matem√°tica", "Engenharia")
)

dados |> 
  filter(nota >= 6) |>
  mutate(aprovado = nota >= 6) |>
  group_by(curso) |>
  summarise(media_nota = mean(nota), n = length(nota) , .groups = "drop")
```

::: 
:::

# Visualiza√ß√µes gr√°ficas {background-image="cap02.png"}

-   R j√° vem com fun√ß√µes gr√°ficas b√°sicas (`plot()`, `hist()`, `boxplot()`, etc.).
-   Boa para visualiza√ß√µes r√°pidas, prototipagem e an√°lises explorat√≥rias.

## Visualiza√ß√µes gr√°ficas {background-image="cap02.png"}

```{r}
plot(mtcars$wt, mtcars$mpg)
```

## Visualiza√ß√µes gr√°ficas {background-image="cap02.png"}

-   Parte do tidyverse
-   Baseado na gram√°tica das visualiza√ß√µes
-   Altamente customiz√°vel e elegante
-   Produz gr√°ficos para publica√ß√£o com poucos comandos

## Visualiza√ß√µes gr√°ficas {background-image="cap02.png"}

```{r, fig.width=5, fig.height=4, fig.align='center'}
library(ggplot2)
ggplot(mtcars, aes(x = wt, y = mpg)) +
  geom_point() +
  geom_smooth(method = "lm")

```

## Visualiza√ß√µes gr√°ficas {background-image="cap02.png"}

-   Combina√ß√£o f√°cil de m√∫ltiplos gr√°ficos em um layout
-   Ideal para pain√©is comparativos e relat√≥rios t√©cnicos

. . .

::: columns 
::: column

```{r}
#| eval: false
#| include: true

library(ggplot2)
library(patchwork)

# Tr√™s gr√°ficos ggplot2 simples
p1 <- ggplot(mtcars, aes(x = mpg)) + geom_histogram()
p2 <- ggplot(mtcars, aes(x = wt, y = mpg)) + geom_point()
p3 <- ggplot(mtcars, aes(x = factor(cyl), y = mpg)) + geom_boxplot()

# Combina os tr√™s em um layout
p1 + p2 / p3

```

:::

::: column

```{r}
#| echo: false
library(ggplot2)
library(patchwork)

# Tr√™s gr√°ficos ggplot2 simples
p1 <- ggplot(mtcars, aes(x = mpg)) + geom_histogram()
p2 <- ggplot(mtcars, aes(x = wt, y = mpg)) + geom_point()
p3 <- ggplot(mtcars, aes(x = factor(cyl), y = mpg)) + geom_boxplot()

# Combina os tr√™s em um layout
p1 + p2 / p3

```

::: 
:::

## Visualiza√ß√µes gr√°ficas {background-image="cap02.png"}

- Pacotes: `plotly`, `shiny`, `highcharter`, `echarts4r`, `leaflet`
- Permitem criar gr√°ficos din√¢micos com zoom, hover, tooltips e filtros

## Visualiza√ß√µes gr√°ficas {background-image="cap02.png"}

```{r}
library(plotly)
plot_ly(data = mtcars, x = ~wt, y = ~mpg, type = 'scatter', mode = 'markers')

```


# Relat√≥rios e automa√ß√£o com Quarto {background-image="cap02.png"}

-   Ideal para reprodutibilidade e integra√ß√£o com an√°lise

## Relat√≥rios din√¢micos {background-image="cap02.png"}

Ref√™rencia:

<https://mastering-shiny.org/>

Exemplos:

-   [Reembolso de deputados (UFRN)](http://shiny.estatistica.ccet.ufrn.br/DashboardDeputados/)
-   [*Trends* do Google (RStudio)](https://shiny.rstudio.com/)
-   [Processo de modelagem did√°tica](https://shiny.rstudio.com/gallery/didacting-modeling.html)

## Cria√ß√£o de *Websites* {background-image="cap02.png"}

-   [Ben D√™ivide](https://bendeivide.github.io/)
-   [R Markdown no RStudio](https://rmarkdown.rstudio.com/)
-   *Website* pessoal de [Rob J Hyndman](https://robjhyndman.com/)
-   *Website* pessoal de [Amber Thomas](https://amber.rbind.io)
-   *Website* pessoal de [Emi Tanaka](https://emitanaka.github.io)


# Quest√µes? {background-image="cap02.png"}

[D√∫vidas e Sugest√µes](https://bendeivide.github.io/){preview-link="true"}

[Contato](https://bendeivide.github.io/#contact){preview-link="true"}



# Refer√™ncias {background-image="cap02.png"}

<!-- 

::: {.notes} 

üìù Mostrar a rela√ß√£o do M√©todo cient√≠fico com as Defini√ß√µes gerais da estat√≠stica (Smoothdraw)

:::



:::: {.columns}

::: {.column width="90%"}

```{r echo=TRUE, eval = TRUE}
library(leem)
atot <- c(1245870, 903207.02, 237765.20, 1559167.89,
          276419.84, 164123.96, 277466.76, 223644.53, 142470.76)
atot |>
  new_leem(variable = 2) # ou new_leem(variable = "continuous")
```

```{r echo=TRUE, eval = TRUE}
library(leem)
atot <- c(1245870, 903207.02, 237765.20, 1559167.89,
          276419.84, 164123.96, 277466.76, 223644.53, 142470.76)
atotleem <- new_leem(atot, variable = 2) # ou new_leem(variable = "discrete")
atotleem
class(atotleem)
```

:::

::: {.column width="10%"}

<center>

<img src="leem.png" title="Imagens: Logo leem" width = "500">

</center>

:::

::::



::: {.nonincremental}

-   Introdu√ß√£o
    -   Nossa vida atual √© assim hoje!

:::


-->
